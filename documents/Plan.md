# План автоматизации тестирования веб-формы сервиса покупки туров интернет-банка
## Перечень автоматизируемых сценариев:
### 1. Позитивный сценарий для форм "Оплата по карте" и "Кредит по данным карты"

_**1.1.** Корректная загрузка формы "Оплата по карте"._
1. Нажать на вкладку "Купить".

**Ожидаемый результат:** 
1. Во вкладке "Купить" появилась форма для заполнения с заголовком "Оплата по карте".

_**1.2.** Обычная оплата по дебетовой карте со статусом "APPROVED" и, введенными в форму, валидными значениями:_
1. В поле "Номер карты" ввести "4444 4444 4444 4441"; 
2. В поле "Месяц" ввести "08"; 
3. В поле "Год" ввести "22"; 
4. Поле "Владелец" заполнено с помощью библиотеки генерации данных "Faker" на латинице; 
5. В поле "CVC/CVV" ввести "123"; 
6. Нажать на кнопку "Продолжить".

**Ожидаемый результат:**
1. Кнопка "Продолжить" меняется на кнопку "Отправляем запрос в Банк..." с крутящимся индикатором загрузки. 
2. В правом верхнем углу появляется всплывающее окно с сообщением "Операция одобрена Банком".

_**1.3.** Обычная оплата по дебетовой карте со статусом "DECLINED" и, введенными в форму, валидными значениями:_
1. В поле "Номер карты" ввести "4444 4444 4444 4442"; 
2. В поле "Месяц" ввести "08"; 
3. В поле "Год" ввести "22"; 
4. Поле "Владелец" заполнено с помощью библиотеки генерации данных "Faker" на латинице; 
5. В поле "CVC/CVV" ввести "123"; 
6. Нажать на кнопку "Продолжить".

**Ожидаемый результат:**
1. Кнопка "Продолжить" меняется на кнопку "Отправляем запрос в Банк..." с крутящимся индикатором загрузки. 
2. В правом верхнем углу появляется всплывающее окно с сообщением "Ошибка! Банк отказал в проведении операции".

_**1.4.** Отображение в СУБД корректной суммы, при оплате по дебетовой карте со статусом "APPROVED" и, введенными в форму,
валидными значениями:_
1. В поле "Номер карты" ввести "4444 4444 4444 4441"; 
2. В поле "Месяц" ввести "08"; 
3. В поле "Год" ввести "22"; 
4. Поле "Владелец" заполнено с помощью библиотеки генерации данных "Faker" на латинице; 
5. В поле "CVC/CVV" ввести "123"; 
6. Нажать на кнопку "Продолжить".

**Ожидаемый результат:**
1. Кнопка "Продолжить" меняется на кнопку "Отправляем запрос в Банк..." с крутящимся индикатором загрузки; 
2. В правом верхнем углу появляется всплывающее окно с сообщением "Операция одобрена Банком"; 
3. В таблице СУБД «payment_entity», в столбце «amount», отображается корректная сумма - '45000'.

_**1.5.** Корректная загрузка формы "Кредит по данным карты":_
1. Нажать на вкладку "Купить в кредит".

**Ожидаемый результат:**
1. Во вкладке "Купить в кредит" появилась форма для заполнения с заголовком "Кредит по данным карты".

_**1.6.** Выдача кредита по данным банковской карты со статусом "APPROVED" и, введенными в форму, валидными значениями:_
1. В поле "Номер карты" ввести "4444 4444 4444 4441"; 
2. В поле "Месяц" ввести "08"; 
3. В поле "Год" ввести "22"; 
4. Поле "Владелец" заполнено с помощью библиотеки генерации данных "Faker" на латинице; 
5. В поле "CVC/CVV" ввести "123"; 
6. Нажать на кнопку "Продолжить".

**Ожидаемый результат:**
1. Кнопка "Продолжить" меняется на кнопку "Отправляем запрос в Банк..." с крутящимся индикатором загрузки; 
2. В правом верхнем углу появляется всплывающее окно с сообщением "Операция одобрена Банком".

_**1.7.** Выдача кредита по данным банковской карты со статусом "DECLINED" и, введенными в форму, валидными значениями:_
1. В поле "Номер карты" ввести "4444 4444 4444 4442"; 
2. В поле "Месяц" ввести "08"; 
3. В поле "Год" ввести "22"; 
4. Поле "Владелец" заполнено с помощью библиотеки генерации данных "Faker" на латинице; 
5. В поле "CVC/CVV" ввести "123"; 
6. Нажать на кнопку "Продолжить".

**Ожидаемый результат:**
1. Кнопка "Продолжить" меняется на кнопку "Отправляем запрос в Банк..." с крутящимся индикатором загрузки; 
2. В правом верхнем углу появляется всплывающее окно с сообщением "Ошибка! Банк отказал в проведении операции".

---

### 2. Негативный сценарий для форм "Оплата по карте" и "Кредит по данным карты"

_**2.1.** Обычная оплата по дебетовой карте с невалидным номером карты:_
1. В поле "Номер карты" ввести "0000 0000 0000 0001";
2. В поле "Месяц" ввести "08"; 
3. В поле "Год" ввести "22"; 
4. Поле "Владелец" заполнено с помощью библиотеки генерации данных "Faker" на латинице; 
5. В поле "CVC/CVV" ввести "123"; 
6. Нажать на кнопку "Продолжить".

**Ожидаемый результат:**
1. Кнопка "Продолжить" меняется на кнопку "Отправляем запрос в Банк..." с крутящимся индикатором загрузки; 
2. В правом верхнем углу появляется всплывающее окно с сообщением "Ошибка! Банк отказал в проведении операции".

_**2.2.** Обычная оплата по дебетовой карте со статусом "APPROVED" и невалидным значением в поле "Месяц":_
1. В поле "Номер карты" ввести "4444 4444 4444 4441"; 
2. В поле "Месяц" ввести "99"; 
3. В поле "Год" ввести "22"; 
4. Поле "Владелец" заполнено с помощью библиотеки генерации данных "Faker" на латинице; 
5. В поле "CVC/CVV" ввести "123"; 
6. Нажать на кнопку "Продолжить".

**Ожидаемый результат:**
1. Под полем "Месяц" появляется сообщение красными буквами "Неверно указан срок действия карты".

_**2.3.** Обычная оплата по дебетовой карте со статусом "APPROVED" и невалидным значением в поле "Год", которое меньше значения текущего года:_
1. В поле "Номер карты" ввести "4444 4444 4444 4441"; 
2. В поле "Месяц" ввести "08"; 
3. В поле "Год" ввести "20"; 
4. Поле "Владелец" заполнено с помощью библиотеки генерации данных "Faker" на латинице; 
5. В поле "CVC/CVV" ввести "123"; 
6. Нажать на кнопку "Продолжить".

**Ожидаемый результат:**
1. Под полем "Год" появляется сообщение красными буквами "Истёк срок действия карты".

_**2.4.** Обычная оплата по дебетовой карте со статусом "APPROVED" и  невалидным значением в поле "Год", которое не может быть сроком действия карты:_
1. В поле "Номер карты" ввести "4444 4444 4444 4441"; 
2. В поле "Месяц" ввести "08"; 
3. В поле "Год" ввести "99"; 
4. Поле "Владелец" заполнено с помощью библиотеки генерации данных "Faker" на латинице; 
5. В поле "CVC/CVV" ввести "123"; 
6. Нажать на кнопку "Продолжить".

**Ожидаемый результат:**
1. Под полем "Год" появляется сообщение красными буквами "Неверно указан срок действия карты".

_**2.5.** Обычная оплата по дебетовой карте со статусом "APPROVED" и невалидным значением в поле "Владелец":_
1. В поле "Номер карты" ввести "4444 4444 4444 4441";
2. В поле "Месяц" ввести "08"; 
3. В поле "Год" ввести "22"; 
4. Поле "Владелец" заполнено с помощью библиотеки генерации данных "Faker" на кириллице; 
5. В поле "CVC/CVV" ввести "123"; 
6. Нажать на кнопку "Продолжить".

**Ожидаемый результат:**
1. Под полем "Владелец" появляется сообщение «Неверный формат». 
2. Кнопка "Продолжить" не меняется на кнопку "Отправляем запрос в Банк..." с крутящимся индикатором загрузки. Отправка формы не выполняется.

_**2.6.** Отправка пустой формы "Оплата по карте":_
1. Нажать на кнопку "Продолжить".

**Ожидаемый результат:**
1. Под полями "Номер карты", "Месяц", "Год", "CVC/CVV", появляется сообщение красными буквами "Неверный формат"; 
2. Под полем "Владелец" - "Поле обязательно для заполнения"; 
3. Форма не отправлена.

_**2.7.** Заполнение полей формы "Оплата по карте" валидными значениями после отправки пустой формы:_
1. Нажать на кнопку "Продолжить".
2. В поле "Номер карты" ввести "4444 4444 4444 4441"; 
3. В поле "Месяц" ввести "08"; 
4. В поле "Год" ввести "22"; 
5. Поле "Владелец" заполнено с помощью библиотеки генерации данных "Faker" на латинице; 
6. В поле "CVC/CVV" ввести "123"; 
7. Нажать на кнопку "Продолжить".

**Ожидаемый результат:**
1. После нажатия на кнопку "Продолжить", для отправки пустой формы, форма не отправилась; 
2. Под полями "Номер карты", "Месяц", "Год", "CVC/CVV", появляется сообщение красными буквами "Неверный формат»
3. Под полем "Владелец" - "Поле обязательно для заполнения». 
4. После корректного заполнения полей, кнопка "Продолжить" меняется на кнопку "Отправляем запрос в Банк..." с крутящимся индикатором загрузки. 
5. Форма отправлена. В правом верхнем углу появляется всплывающее окно с сообщением "Операция одобрена Банком". 
6. Всплывающие окна с параметром «visible». 
7. Сообщения (красным цветом), о некорректном заполнении всех полей или отсутствии данных в некоторых полях формы, не появляются.


_**2.8.** Заполнение полей формы "Оплата по карте" невалидными значениями:_
1. В поле "Номер карты" ввести "0000 0000 0000 0001"; 
2. В поле "Месяц" ввести "80"; 
3. В поле "Год" ввести "99"; 
4. Поле "Владелец" заполнено с помощью библиотеки генерации данных "Faker" на кириллице; 
5. В поле "CVC/CVV" ввести "66"; 
6. Нажать на кнопку "Продолжить".

**Ожидаемый результат:**
1. Под полями "Номер карты", "Месяц", "Год", "Владелец", "CVC/CVV", появляется сообщение красными буквами "Неверный формат".

_**2.9.** Выдача кредита по данным банковской карты с невалидным номером карты:_
1. В поле "Номер карты" ввести "9999 9999 9999 9999"; 
2. В поле "Месяц" ввести "08"; 
3. В поле "Год" ввести "22"; 
4. Поле "Владелец" заполнено с помощью библиотеки генерации данных "Faker" на латинице; 
5. В поле "CVC/CVV" ввести "123"; 
6. Нажать на кнопку "Продолжить".

**Ожидаемый результат:**
1. Кнопка "Продолжить" меняется на кнопку "Отправляем запрос в Банк..." с крутящимся индикатором загрузки. 
2. В правом верхнем углу появляется всплывающее окно с сообщением "Ошибка! Банк отказал в проведении операции".

_**2.10.** Выдача кредита по данным банковской карты со статусом "APPROVED" и  невалидным значением в поле "Месяц":_
1. В поле "Номер карты" ввести "4444 4444 4444 4441"; 
2. В поле "Месяц" ввести "99"; 
3. В поле "Год" ввести "22"; 
4. Поле "Владелец" заполнено с помощью библиотеки генерации данных "Faker" на латинице; 
5. В поле "CVC/CVV" ввести "123"; 
6. Нажать на кнопку "Продолжить".

**Ожидаемый результат:**
1. Под полем "Месяц" появляется сообщение красными буквами "Неверно указан срок действия карты".

_**2.11.** Выдача кредита по данным банковской карты со статусом "APPROVED" и  невалидным значением в поле "Год", которое меньше значения текущего года:_
1. В поле "Номер карты" ввести "4444 4444 4444 4441"; 
2. В поле "Месяц" ввести "08"; 
3. В поле "Год" ввести "21"; 
4. Поле "Владелец" заполнено с помощью библиотеки генерации данных "Faker" на латинице; 
5. В поле "CVC/CVV" ввести "123"; 
6. Нажать на кнопку "Продолжить".

**Ожидаемый результат:**
1. Под полем "Год" появляется сообщение красными буквами "Истёк срок действия карты".

_**2.12.** Выдача кредита по данным банковской карты со статусом "APPROVED" и  невалидным значением в поле "Год", которое не может быть сроком действия карты:_
1. В поле "Номер карты" ввести "4444 4444 4444 4441"; 
2. В поле "Месяц" ввести "08"; 
3. В поле "Год" ввести "99"; 
4. Поле "Владелец" заполнено с помощью библиотеки генерации данных "Faker" на латинице; 
5. В поле "CVC/CVV" ввести "123"; 
6. Нажать на кнопку "Продолжить".

**Ожидаемый результат:**
1. Под полем "Год" появляется сообщение красными буквами "Неверно указан срок действия карты".

_**2.13.** Выдача кредита по данным банковской карты со статусом "APPROVED" и  невалидным значением в поле "Владелец":_
1. В поле "Номер карты" ввести "4444 4444 4444 4441"; 
2. В поле "Месяц" ввести "08"; 
3. В поле "Год" ввести "25"; 
4. Поле "Владелец" заполнено с помощью библиотеки генерации данных "Faker" на кириллице; 
5. В поле "CVC/CVV" ввести "123"; 
6. Нажать на кнопку "Продолжить".

**Ожидаемый результат:**
1. Под полем "Владелец" красными буквами появляется сообщение красными буквами "Неверный формат".

_**2.14.** Отправка пустой формы «Кредит по данным карты»:_
1. Нажать на кнопку "Продолжить".

**Ожидаемый результат:**
1. Под полями "Номер карты", "Месяц", "Год", "CVC/CVV", появляется сообщение красными буквами "Неверный формат"; 
2. Под полем "Владелец" - "Поле обязательно для заполнения". 
3. Форма не отправлена.

_**2.15.** Заполнение полей формы «Кредит по данным карты» валидными значениями после отправки пустой формы:_
1. Нажать на кнопку "Продолжить". 
2. В поле "Номер карты" ввести "4444 4444 4444 4441"; 
3. В поле "Месяц" ввести "08"; 
4. В поле "Год" ввести "22"; 
5. Поле "Владелец" заполнено с помощью библиотеки генерации данных "Faker" на латинице; 
6. В поле "CVC/CVV" ввести "123"; 
7. Нажать на кнопку "Продолжить".

**Ожидаемый результат:**
1. После нажатия на кнопку "Продолжить", для отправки пустой формы, форма не отправилась. 
2. Под полями "Номер карты", "Месяц", "Год", "CVC/CVV", появляется сообщение красными буквами "Неверный формат» 
3. Под полем "Владелец" - "Поле обязательно для заполнения».
4. После корректного заполнения полей, кнопка "Продолжить" меняется на кнопку "Отправляем запрос в Банк..." с крутящимся индикатором загрузки. 
5. Форма отправлена. 
6. В правом верхнем углу появляется всплывающее окно с сообщением "Операция одобрена Банком". 
7. Всплывающие окна с параметром «visible».
8. Сообщения (красным цветом), о некорректном заполнении всех полей или отсутствии данных в некоторых полях формы, не появляются.


_**2.16.** Заполнение полей формы «Кредит по данным карты» невалидными значениями:_
* В поле "Номер карты" ввести "9999 9999 9999 9999";
* В поле "Месяц" ввести "80";
* В поле "Год" ввести "99";
* Поле "Владелец" заполнено с помощью библиотеки генерации данных "Faker" на кириллице;
* В поле "CVC/CVV" ввести "66";
* Нажать на кнопку "Продолжить".

**Ожидаемый результат:**
* Под полями "Номер карты", "Месяц", "Год", "Владелец", "CVC/CVV", появляется сообщение красными буквами "Неверный формат".

### Перечень используемых инструментов с обоснованием выбора

1. JetBrains IntelliJ IDEA – интегрированная среда разработки программного обеспечения для многих языков программирования, в частности Java, JavaScript, Python, разработанная компанией JetBrains.
2. Java, версия 11 – современный язык программирования высокого уровня, один из самых популярных и распространённых языков в рейтинге программирования.
3. Gradle — был разработан для расширяемых много проектных сборок, и поддерживает инкрементальные сборки, определяя, какие компоненты дерева сборки не изменились и какие задачи, зависимые от этих частей, не требуют перезапуска.
4. JUnit5 –библиотека для модульного тестирования программного обеспечения на Java.
5. Selenide–удобный инструмент для автоматических тестов, построенный на базе Selenium WebDriver.
6. MySQL – свободная реляционная база данных, обеспечивающаяся поддержкой большого количества типов таблиц.
7. PostgreSQL - свободная объективно-реляционная система управления базами данных. «Самая продвинутая база данных с открытым исходным кодом в мире».
8. Docker – программное обеспечение для автоматизации развёртывания и управления приложениями в средах с поддержкой контейнеризации. Не нужно устанавливать локально базы данных.
9. Allure – фреймворк для создания понятных и простых отчетов авто тестов.
10. Lombok – библиотека, позволяющая сократить количество написанного кода, улучшая читаемость.

### Перечень и описание возможных рисков при автоматизации:
1. Возможны ошибки при написании автотестов; 
2. Возможны ошибки в автотестах, связанные с техническим сбоем; 
3. Возможны ошибки в автотестах, в связи с изменением кода; 
4. Неоправданная стоимость и затраты на автоматизацию тестирования; 
5. Возможен некорректный запуск симулятора банковских карт; 
6. Возможны сложности при настройке двух СУБД ("MySQL" и "PostgreSQL"), и корректном подключении к каждой из них.

### Интервальная оценка с учётом рисков (в часах):
**Интервальная оценка составляет 90 часа.**
1. Планирование автоматизации тестирования: 12 часов;
2. Автоматизация тестирования: 40 часов;
3. Отчетные документы по итогам автоматизированного тестирования: 8 часа;
4. Отчетные документы по итогам автоматизации: 8 часа;
5. Дополнительно на устранение последствий наступления рисков +15%-25% времени для реализации проекта ~13-22 часов.

### План сдачи работы:
1. Планирование автоматизации тестирования: до 30.09.2021
2. Автоматизация тестирования: до 18.10.2021
3. Отчетные документы по итогам автоматизированного тестирования: до 22.10.2021
4. Отчетные документы по итогам автоматизации: до 26.10.2021